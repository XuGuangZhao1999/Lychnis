(function(){"use strict";var e={6264:function(e,t,l){l(8858),l(1318),l(3228);var n=l(9242),a=l(3396);function u(e,t,l,n,u,d){const o=(0,a.up)("mainPage");return(0,a.wg)(),(0,a.j4)(o)}function d(e,t,l,n,u,d){const o=(0,a.up)("appHeader"),i=(0,a.up)("viewerPanel"),m=(0,a.up)("controlPanel"),r=(0,a.up)("el-aside"),f=(0,a.up)("el-container");return(0,a.wg)(),(0,a.j4)(f,{direction:"vertical",class:"common container-top"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{id:"header"}),(0,a.Wm)(f,{direction:"horizontal",class:"common container-sub"},{default:(0,a.w5)((()=>[(0,a.Wm)(i),(0,a.Wm)(r,{id:"aside"},{default:(0,a.w5)((()=>[(0,a.Wm)(m)])),_:1})])),_:1})])),_:1})}function o(e,t,l,n,u,d){const o=(0,a.up)("menuBar"),i=(0,a.up)("el-header");return(0,a.wg)(),(0,a.j4)(i,{id:"header",direction:"horizontal"},{default:(0,a.w5)((()=>[(0,a.Wm)(o)])),_:1})}function i(e,t,l,n,u,d){const o=(0,a.up)("el-menu-item"),i=(0,a.up)("el-divider"),m=(0,a.up)("el-sub-menu"),r=(0,a.up)("statusBar"),f=(0,a.up)("el-menu");return(0,a.wg)(),(0,a.j4)(f,{id:"menu",mode:"horizontal","background-color":"#545C64","text-color":"#FFFFFF"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{index:"1"},{title:(0,a.w5)((()=>[(0,a.Uk)("文件")])),default:(0,a.w5)((()=>[(0,a.Wm)(o,{id:"loadProject",index:"1-1",onClick:t[0]||(t[0]=e=>n.loadProject())},{default:(0,a.w5)((()=>[(0,a.Uk)("加载工程文件")])),_:1}),(0,a.Wm)(o,{index:"1-2"},{default:(0,a.w5)((()=>[(0,a.Uk)("保存工程")])),_:1}),(0,a.Wm)(o,{index:"1-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("工程另存为...")])),_:1}),(0,a.Wm)(i,{class:"hLine"}),(0,a.Wm)(o,{index:"1-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("打开图像文件")])),_:1}),(0,a.Wm)(o,{index:"1-5"},{default:(0,a.w5)((()=>[(0,a.Uk)("以sps形式打开图像")])),_:1}),(0,a.Wm)(o,{index:"1-6"},{default:(0,a.w5)((()=>[(0,a.Uk)("导入节点")])),_:1}),(0,a.Wm)(o,{index:"1-7"},{default:(0,a.w5)((()=>[(0,a.Uk)("导入参数")])),_:1}),(0,a.Wm)(o,{index:"1-8"},{default:(0,a.w5)((()=>[(0,a.Uk)("图像信息")])),_:1}),(0,a.Wm)(i,{class:"hLine"}),(0,a.Wm)(m,{index:"1-9"},{title:(0,a.w5)((()=>[(0,a.Uk)("导出节点")])),default:(0,a.w5)((()=>[(0,a.Wm)(o,{index:"1-9-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("Imaris格式")])),_:1}),(0,a.Wm)(o,{index:"1-9-2"},{default:(0,a.w5)((()=>[(0,a.Uk)("Lychnis格式")])),_:1}),(0,a.Wm)(o,{index:"1-9-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("swc格式")])),_:1}),(0,a.Wm)(o,{index:"1-9-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("Imaris spots格式")])),_:1})])),_:1}),(0,a.Wm)(o,{index:"1-10"},{default:(0,a.w5)((()=>[(0,a.Uk)("生成动画")])),_:1}),(0,a.Wm)(o,{index:"1-11"},{default:(0,a.w5)((()=>[(0,a.Uk)("导出图像")])),_:1})])),_:1}),(0,a.Wm)(m,{index:"2"},{title:(0,a.w5)((()=>[(0,a.Uk)("编辑")])),default:(0,a.w5)((()=>[(0,a.Wm)(o,{index:"2-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("根据节点移动脑片")])),_:1}),(0,a.Wm)(o,{index:"2-2"},{default:(0,a.w5)((()=>[(0,a.Uk)("移动选中的节点")])),_:1}),(0,a.Wm)(i,{class:"hLine"}),(0,a.Wm)(o,{index:"2-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("创建定位节点")])),_:1}),(0,a.Wm)(m,{index:"2-4"},{title:(0,a.w5)((()=>[(0,a.Uk)("删除节点")])),default:(0,a.w5)((()=>[(0,a.Wm)(o,{index:"2-4-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("选中的节点")])),_:1}),(0,a.Wm)(o,{index:"2-4-2"},{default:(0,a.w5)((()=>[(0,a.Uk)("选中的纤维上所有节点")])),_:1}),(0,a.Wm)(o,{index:"2-4-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("选中节点类型的所有节点")])),_:1}),(0,a.Wm)(o,{index:"2-4-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("所有节点")])),_:1})])),_:1}),(0,a.Wm)(i,{class:"hLine"}),(0,a.Wm)(o,{index:"2-5"},{default:(0,a.w5)((()=>[(0,a.Uk)("生成节点分组")])),_:1}),(0,a.Wm)(o,{index:"2-6"},{default:(0,a.w5)((()=>[(0,a.Uk)("节点检查")])),_:1}),(0,a.Wm)(o,{index:"2-7"},{default:(0,a.w5)((()=>[(0,a.Uk)("移动到下一个待标注点")])),_:1})])),_:1}),(0,a.Wm)(m,{index:"3"},{title:(0,a.w5)((()=>[(0,a.Uk)("查看")])),default:(0,a.w5)((()=>[(0,a.Wm)(o,{index:"3-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("显示/隐藏所有节点")])),_:1}),(0,a.Wm)(o,{index:"3-2"},{default:(0,a.w5)((()=>[(0,a.Uk)("显示/隐藏未选中的节点")])),_:1}),(0,a.Wm)(o,{index:"3-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("显示/隐藏当前图像块")])),_:1}),(0,a.Wm)(o,{index:"3-4"},{default:(0,a.w5)((()=>[(0,a.Uk)("显示/隐藏ROI数据块")])),_:1}),(0,a.Wm)(o,{index:"3-5"},{default:(0,a.w5)((()=>[(0,a.Uk)("ROI设置")])),_:1}),(0,a.Wm)(o,{index:"3-6"},{default:(0,a.w5)((()=>[(0,a.Uk)("切换自动加载")])),_:1}),(0,a.Wm)(o,{index:"3-7"},{default:(0,a.w5)((()=>[(0,a.Uk)("显示设置")])),_:1}),(0,a.Wm)(o,{index:"3-8"},{default:(0,a.w5)((()=>[(0,a.Uk)("开启/关闭标注模式")])),_:1})])),_:1}),(0,a.Wm)(m,{index:"4"},{title:(0,a.w5)((()=>[(0,a.Uk)("帮助")])),default:(0,a.w5)((()=>[(0,a.Wm)(o,{index:"4-1",id:"debug",onClick:t[1]||(t[1]=t=>e.deBug())},{default:(0,a.w5)((()=>[(0,a.Uk)("关于")])),_:1}),(0,a.Wm)(m,{index:"4-2"},{title:(0,a.w5)((()=>[(0,a.Uk)("语言")])),default:(0,a.w5)((()=>[(0,a.Wm)(o,{index:"4-2-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("简体中文")])),_:1}),(0,a.Wm)(o,{index:"4-2-2"},{default:(0,a.w5)((()=>[(0,a.Uk)("English")])),_:1})])),_:1})])),_:1}),(0,a.Wm)(o,{index:"5"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{status:"Status",bShow:"true"})])),_:1})])),_:1})}var m=l(7139);const r={key:0,id:"statusBar"};function f(e,t,l,n,u,d){return l.bShow?((0,a.wg)(),(0,a.iD)("label",r,(0,m.zw)(l.status),1)):(0,a.kq)("",!0)}var s={name:"statusBar",props:{status:String,bShow:Boolean}},w=l(89);const c=(0,w.Z)(s,[["render",f],["__scopeId","data-v-399128ec"]]);var W=c,_={name:"menuBar",components:{statusBar:W},setup(){function e(){window.cefQuery({request:"loadProject",onSuccess:function(e){console.log("loadProject success: "+e)},onFailure:function(e,t){console.log("loadProject failed: "+e+" "+t)}})}return{loadProject:e}}};const p=(0,w.Z)(_,[["render",i],["__scopeId","data-v-fa8efa86"]]);var b=p,x={name:"appHeader",components:{menuBar:b}};const k=(0,w.Z)(x,[["render",o],["__scopeId","data-v-5ba122e3"]]);var h=k;const v=(0,a._)("span",null,"位置与坐标",-1),U=(0,a._)("span",null,"特殊节点",-1),g=(0,a._)("span",null,"关键帧",-1);function y(e,t,l,n,u,d){const o=(0,a.up)("el-option"),i=(0,a.up)("el-select"),m=(0,a.up)("el-form-item"),r=(0,a.up)("el-input"),f=(0,a.up)("el-form"),s=(0,a.up)("el-collapse-item"),w=(0,a.up)("el-button"),c=(0,a.up)("el-color-picker"),W=(0,a.up)("el-table-column"),_=(0,a.up)("el-table"),p=(0,a.up)("el-collapse"),b=(0,a.up)("el-tab-pane"),x=(0,a.up)("el-slider"),k=(0,a.up)("el-tabs");return(0,a.wg)(),(0,a.j4)(k,{id:"tabs",type:"border-card",stretch:"true"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"标注通道"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{title:"设置",name:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{"label-position":"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"标注通道"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{label:"通道1",value:"1"}),(0,a.Wm)(o,{label:"通道2",value:"2"}),(0,a.Wm)(o,{label:"通道3",value:"3"}),(0,a.Wm)(o,{label:"通道4",value:"4"})])),_:1})])),_:1}),(0,a.Wm)(m,{label:"标注类型"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{label:"线段",value:"line"}),(0,a.Wm)(o,{label:"点",value:"point"})])),_:1})])),_:1}),(0,a.Wm)(m,{label:"切片厚度"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Wm)(m,{label:"用户名"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(s,{name:"2"},{title:(0,a.w5)((()=>[v,(0,a.Wm)(w,{id:"seniorBtn",type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("高级")])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(f,{"label-position":"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"数据块大小"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{label:"256x256x256"})])),_:1}),(0,a.Wm)(r,{type:"number"}),(0,a.Wm)(r,{type:"number"})])),_:1}),(0,a.Wm)(m,{label:"中心"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{type:"number"}),(0,a.Wm)(r,{type:"number"}),(0,a.Wm)(r,{type:"number"})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(s,{title:"当前节点信息",name:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{"label-position":"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"编号"},{default:(0,a.w5)((()=>[(0,a.Wm)(r),(0,a.Wm)(r,{placeholder:"搜索的节点编号"})])),_:1}),(0,a.Wm)(m,{label:"类型"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{label:"None",value:"1"})])),_:1})])),_:1}),(0,a.Wm)(m,{label:"信息"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{placeholder:"输入完成后按回车键"}),(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{label:"Sure",value:"1"})])),_:1})])),_:1}),(0,a.Wm)(m,{label:"创建者"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{type:"text"})])),_:1}),(0,a.Wm)(m,{label:"颜色"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{type:"text"}),(0,a.Wm)(c,{modelValue:u.nodeColor,"onUpdate:modelValue":t[0]||(t[0]=e=>u.nodeColor=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{label:"坐标"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{type:"text"})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(s,{name:"4"},{title:(0,a.w5)((()=>[U,(0,a.Wm)(w,{id:"seniorBtn",type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("过滤")])),_:1}),(0,a.Wm)(w,{id:"seniorBtn",type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("弹出")])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(_,{border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{label:"编号"}),(0,a.Wm)(W,{label:"信息"})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(b,{label:"动画"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{title:"关键帧",name:"5"},{title:(0,a.w5)((()=>[g,(0,a.Wm)(w,{id:"seniorBtn",type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("新建")])),_:1}),(0,a.Wm)(w,{id:"seniorBtn",type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("修改")])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(f,{"label-position":"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"序号（关键帧）"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Wm)(m,{label:"序号（所有帧）"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Wm)(m,{label:"创建时间"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Wm)(m,{label:"时长（帧数）"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{placeholder:"0"})])),_:1}),(0,a.Wm)(m,{label:"备注"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(s,{title:"所有关键帧",name:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{label:"序号"}),(0,a.Wm)(W,{label:"创建时间"}),(0,a.Wm)(W,{label:"备注"})])),_:1})])),_:1}),(0,a.Wm)(s,{title:"所有帧",name:"7"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{modelValue:u.frameIndex,"onUpdate:modelValue":t[1]||(t[1]=e=>u.frameIndex=e),"show-input":"",size:"small"},null,8,["modelValue"]),(0,a.Wm)(w,{type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("上一个关键帧")])),_:1}),(0,a.Wm)(w,{type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("下一个关键帧")])),_:1})])),_:1}),(0,a.Wm)(s,{title:"脚本",name:"8"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{"label-position":"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r),(0,a.Wm)(w,{type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("浏览")])),_:1})])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("导出模版")])),_:1}),(0,a.Wm)(w,{type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("重新加载")])),_:1}),(0,a.Wm)(w,{type:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)("添加当前状态")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var j={name:"controlPanel",data(){return{nodeColor:"#00FF00",frameIndex:0}}};const P=(0,w.Z)(j,[["render",y]]);var B=P;const I={class:"flexLayout"},O={key:0,id:"imageContainer",ref:"canvas",width:"1600",height:"1200"};function C(e,t,l,n,u,d){return(0,a.wg)(),(0,a.iD)("div",I,[n.bShow?((0,a.wg)(),(0,a.iD)("canvas",O,null,512)):(0,a.kq)("",!0)])}var L=l(4870),S={name:"viewerPanel",setup(){const e=(0,L.iH)(!0);return{bShow:e}},mounted(){let e=this.$refs.canvas,t=e.getContext("2d");t.fillStyle="#000000",t.fillRect(0,0,e.width,e.height)}};window.onload=function(){let e,t,l=document.getElementById("imageContainer"),n=l.getContext("2d"),a=!1,u=l.width/l.offsetWidth,d=l.height/l.offsetHeight,o=new ResizeObserver((()=>{u=l.width/l.offsetWidth,d=l.height/l.offsetHeight}));o.observe(l),l.addEventListener("mousedown",(function(l){0===l.button&&(a=!0,n.strokeStyle="red",e=l.offsetX*u,t=l.offsetY*d,n.beginPath(),n.moveTo(e,t))}),!1),l.addEventListener("mouseup",(function(e){0===e.button&&(a=!1)}),!1),l.addEventListener("mousemove",(function(l){a&&(n.lineTo(l.offsetX*u,l.offsetY*d),n.stroke(),console.log(l.offsetX*u,l.offsetY*d),console.log("偏移方向offset："+(l.offsetX*u-e)+","+(l.offsetY*d-t)))}),!1),l.addEventListener("wheel",(function(e){console.log(e.deltaX,e.deltaY,e.deltaZ)}),!1)};const F=(0,w.Z)(S,[["render",C],["__scopeId","data-v-07a0aefa"]]);var Z=F,E={name:"mainPage",components:{appHeader:h,controlPanel:B,viewerPanel:Z}};const z=(0,w.Z)(E,[["render",d],["__scopeId","data-v-4d973c22"]]);var H=z,R={name:"App",components:{mainPage:H}};const V=(0,w.Z)(R,[["render",u]]);var X=V,Y=l(356);l(4415);window.paint=function(e){console.log(e);let t=new Blob([e],{type:"image/jpeg"}),l=new Image;l.src=URL.createObjectURL(t),l.onload=function(){let e=document.getElementById("imageContainer"),t=e.getContext("2d");t.drawImage(l,0,0)}};const T=(0,n.ri)(X);T.use(Y.Z),T.mount("#app")}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,l),u.exports}l.m=e,function(){var e=[];l.O=function(t,n,a,u){if(!n){var d=1/0;for(r=0;r<e.length;r++){n=e[r][0],a=e[r][1],u=e[r][2];for(var o=!0,i=0;i<n.length;i++)(!1&u||d>=u)&&Object.keys(l.O).every((function(e){return l.O[e](n[i])}))?n.splice(i--,1):(o=!1,u<d&&(d=u));if(o){e.splice(r--,1);var m=a();void 0!==m&&(t=m)}}return t}u=u||0;for(var r=e.length;r>0&&e[r-1][2]>u;r--)e[r]=e[r-1];e[r]=[n,a,u]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,u,d=n[0],o=n[1],i=n[2],m=0;if(d.some((function(t){return 0!==e[t]}))){for(a in o)l.o(o,a)&&(l.m[a]=o[a]);if(i)var r=i(l)}for(t&&t(n);m<d.length;m++)u=d[m],l.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return l.O(r)},n=self["webpackChunklychnis_web_app"]=self["webpackChunklychnis_web_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[998],(function(){return l(6264)}));n=l.O(n)})();
//# sourceMappingURL=app.e24c7789.js.map